<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>폴더 아코디언 메뉴-이벤트 발생 추가(서브 메뉴패널이 열리고 닫힐때 이벤트 발생 추가)</title>
	<!-- 외부 css파일 가져오기 -->
	<link rel="stylesheet" type="text/css" href="css/accordion.css" >
	<style>
		* {
			padding: 0;
			margin: 0;
		}
		body {
			font-size: 12px;
		}
		#accordionMenu1 {
			margin: 100px;
			width: 300px;
		}	
	
	</style>

	<script src="libs/jquery-3.5.1.min.js"></script>
	<script src="libs/jquery.easing.1.3.js"></script>
	<script src="js/accordion.js"></script>
    <script>
		//05단계 : 이벤트 발생 추가
		// - 서브 메뉴 패널이 열리고 닫힐 때, 이벤트 발생을 추가(open, close)


		//04단계 : 외부 선택 기능 추가

		//03단계 : 서브 메뉴 아이템 선택 처리 기능 추가

		//02단계 : 서브 메뉴패널 열고 닫는 기능 추가
		    // - 마크업에 스타일을 직접 적용하기(방법 1) -- CSS파일에 정의되어 있는데로 출력효과를 준다.
			// - 사용자 정의 속성 + 스크립트 활용(방법 2) -- CSS파일에 정의되어 있는데로 출력효과를 준다.
			// - 폴더 상태 설정하기
			// - 마크업 정보에 따른 서브 메뉴 패널 열고 닫기
			// - 메인 메뉴아이템을 클릭시 서브 메뉴패널을 열고 닫기 기능을 추가
			// - 서브 메뉴패널을 열고 닫기 기능에 애니메이션 기능을 추가
			// - 인덱스를  이용하여 서브 메뉴 패널 열고 닫기 기능을 추가

		//01단계 : 레이아웃 잡기
			// - 레이아웃 구조 잡기
			// - 서브 메뉴패널 스타일 설정
			// - 폴더의 이미지 부분 스타일 설정 설정
					
		$(document).ready(function(){
			//인스턴스를 생성하였다.하여 js파일을 이용한다.
			var accordion = new FolderAccordionMenu(".accordion-menu");			
			
			//이벤트가 장상적으로 발생하는지 확인하기 위해 이벤트 리스너를 추가한 코드이며,
			//아울러, 이벤트 정보를 출력하는 코드를 작성함.
			accordion.$accordionMenu.on("open", function(e){
				//text()는 선택한 요소 안의 내용을 가져온다.태그는 가져오지 않는다.
				console.log("open" + e.$target.find(".main-title a").text());
			});

			accordion.$accordionMenu.on("close", function(e){
				//text()는 선택한 요소 안의 내용을 가져온다.태그는 가져오지 않는다.
				console.log("close" + e.$target.find(".main-title a").text());
			});			
		});	
    </script>
</head>
<body>
	<ul class="accordion-menu" id="accordionMenu1">
		<li data-extension = "open">			 		
			<div class="main-title"><span class="folder"></span><a>한식</a>
			</div>			
			<ul class="sub">
				<!-- li태그 하나가 20px을 차지하고 있다. -->
				<li><a>된장찌게 세트</a></li> 
				<li><a>김치찌게 세트</a></li>
				<li><a>불고기 세트</a></li>
				<li><a>삼겹살 세트</a></li>
			</ul>
		</li>
		<li>					
			<div class="main-title"><span class="folder"></span><a>중식</a>
			</div>			
			<ul class="sub">
				<li><a>짜장면</a></li>
				<li><a>짬뽕</a></li>
				<li><a>볶음밥</a></li>				
			</ul>
		</li>
		<li data-extension = "open">			
			<div class="main-title"><span class="folder"></span><a>양식</a>
			</div>			
			<ul class="sub">
				<li><a>스테이크</a></li>
				<li><a>돈까스</a></li>
				<li><a>파스타</a></li>				
				<li><a>오므라이스</a></li>				
				<li><a>포테이토크림</a></li>			
				<li><a>비프콘소메</a></li>					
			</ul>
		</li>
		<!-- 서브 메뉴패널이 없는 경우에는 data-extension속성의 값을 empty가 설정된다. -->
		<li>
			<div class="main-title"><span class="folder"></span><a>추가</a>
			</div>		
		</li>
	</ul>
</body>
</html>